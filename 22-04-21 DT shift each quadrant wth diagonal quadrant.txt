#include<stdio.h>
#include<stdlib.h>

int main()
{
int r,c,i,j,t;
scanf("%d %d",&r,&c);
int a[r][c],x=r/2,y=c/2;
for(i=0;i<r;i++){
    for(j=0;j<c;j++){
        scanf("%d",&a[i][j]);
    }
}
for(j=0;j<y;j++){
    t=a[0][j];
    a[0][j]=a[x][j+y];
    a[x][j+y]=t;
    t=a[x-1][j];
    a[x-1][j]=a[r-1][j+y];
    a[r-1][j+y]=t;
}
for(i=1;i<x-1;i++){
    t=a[i][0];
    a[i][0]=a[i+x][y];
    a[i+x][y]=t;
    t=a[i][y-1];
    a[i][y-1]=a[i+x][c-1];
    a[i+x][c-1]=t;
}
for(j=0;j<y;j++){
    t=a[x][j];
    a[x][j]=a[0][j+y];
    a[0][j+y]=t;
    t=a[r-1][j];
    a[r-1][j]=a[x-1][j+y];
    a[x-1][j+y]=t;
}
for(i=1;i<x-1;i++){
    t=a[i][y];
    a[i][y]=a[i+x][0];
    a[i+x][0]=t;
    t=a[i][c-1];
    a[i][c-1]=a[i+x][y-1];
    a[i+x][y-1]=t;
}
for(i=0;i<r;i++){
    for(j=0;j<c;j++){
        printf("%d ",a[i][j]);
    }
    printf("\n");
}
}

Output:
6 8
71 86 95 98 95 64 11 40
20 27 40 50 89 20 77 29
68 18 41 73 36 75 52 51
52 91 75 25 97 81 30 15
71 50 41 52 93 79 98 74
59 23 75 96 67 83 59 70

97 81 30 15 52 91 75 25
93 27 40 74 71 20 77 52
67 83 59 70 59 23 75 96
95 64 11 40 71 86 95 98
89 50 41 29 20 79 98 50
36 75 52 51 68 18 41 73

12 8
76 43 42 54 17 26 10 19
90 79 69 89 49 47 32 66
80 53 34 78 49 91 16 49
87 30 30 47 56 38 95 26
75 56 32 15 93 33 95 60
75 34 62 54 50 68 40 43
92 47 57 67 43 59 16 93
21 78 81 68 37 36 57 15
77 48 81 27 29 25 42 85
60 16 32 19 32 14 76 20
97 43 25 96 61 36 58 81
44 98 71 43 95 55 32 25

43 59 16 93 92 47 57 67
37 79 69 15 21 47 32 68
29 53 34 85 77 91 16 27
32 30 30 20 60 38 95 19
61 56 32 81 97 33 95 96
95 55 32 25 44 98 71 43
17 26 10 19 76 43 42 54
49 78 81 66 90 36 57 89
49 48 81 49 80 25 42 78
56 16 32 26 87 14 76 47
93 43 25 60 75 36 58 15
50 68 40 43 75 34 62 54