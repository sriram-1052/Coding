#include<stdio.h>
#include <stdlib.h>

int main()
{
int n,a[1001],b[1001],i,j,x,y,g=0,f=0,c=1;
scanf("%d",&n);
for(i=0;i<n;i++){
    scanf("%d %d",&a[i],&b[i]);
}
x=a[0];
y=b[0];
while(y!=x){
    g=0;
    for(i=1;i<n;i++){
        if(a[i]==y){
            g=1;
            y=b[i];
            c++;
            break;
        }
    }
    if(g==0 || c>n){
        f=1;
        break;
    }
}
if(c<n) f=1;
if(f==1) printf("NO");
else printf("YES");
}s

Output:-
4
2 3
5 1
3 5
1 2
YES

4
-2 -4
-3 -1
-4 -3
-1 2
NO