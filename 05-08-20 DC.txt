#include <stdio.h>

int main()
{
    int r,c,a[101][101],i,j,x,p,q,t,s,f=0;
    scanf("%d %d",&r,&c);
    for(i=0;i<r;i++){
        for(j=0;j<c;j++){
            scanf("%d",&a[i][j]);
        }
    }
    scanf("%d",&x);
    for(i=0;i<r;i++){
        for(j=0;j<c;j++){
            if(a[i][j]==x){
                p=i;
                q=i;
                t=j;
                s=j;
                f=1;
                break;
            }
        }
        if(f==1){
            break;
        }
    }
    while(p>0 && q<r-1 && t>0 && s<c-1){
        p--;
        q++;
        t--;
        s++;
    }
    for(i=p;i<=q;i++){
        for(j=t;j<=s;j++){
            printf("%d ",a[i][j]);
        }
        printf("\n");
    }
    return 0;
}

Output:-
7 9
43 85 91 83 26 30 70 11 95
34 72 22 19 99 79 50 90 88
80 63 51 57 64 36 38 12 25
37 67 13 53 32 81 59 48 92
62 20 74 17 96 44 52 33 98
86 16 29 58 42 66 24 61 46
68 97 40 87 28 41 65 27 55
52
64 36 38 12 25
32 81 59 48 92
96 44 52 33 98
42 66 24 61 46
28 41 65 27 55