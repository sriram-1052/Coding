def Even(x):
    c=0
    for i in x:
        if(i%2==0):
            c+=1
    return c
r,c=map(int,input().split())
a=[]
for i in range(r):
    b=list(map(int,input().split()))[:c]
    a.append(b)
a=sorted(a,key=Even)
for i in a:
    print(*i)

Output:-
3 4
1 2 4 5
4 9 8 6
9 7 8 5
9 7 8 5
1 2 4 5
4 9 8 6